<!DOCTYPE html>
<html>
    <head>
        <title>Favoritos</title>
        <link rel="stylesheet" href="Explorar.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        <link href="https://db.onlinewebfonts.com/c/2170a4d71c4da1e4af6ac9f1dd8df365?family=Syntax+Next+LT+W04+Black" rel="stylesheet">
        <style>
            .music-player {
                position: fixed;
                bottom: 0;
                left: 0;
                height: 30px;
                right: 0;
                background-color: #f8f9fa; /* Color de fondo */
                padding: 10px; /* Espaciado */
                box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1); /* Sombra */
                z-index: 1000; /* Asegura que esté por encima de otros elementos */
            }
            
            .song-controls, .progress-bar, .extra-controls {
                display: flex;
                justify-content: space-between; /* Espacio entre los controles */
                align-items: center; /* Centra verticalmente */
            }
            
            .progress-container {
                flex-grow: 1; /* Permite que la barra de progreso use el espacio disponible */
                margin: 0 10px; /* Margen entre la barra de progreso y los controles */
            }
            
            .progress {
                height: 5px; /* Altura de la barra de progreso */
                background-color: #007bff; /* Color de la barra de progreso */
            }
            </style>
    </head>
    <body>
        <div class="container">
            <nav>
                <h1>Deezer</h1>
                <ul>
                    <li>
                        <a href="index.html" class="custom-button">
                            <i class="fas fa-home"></i> Inicio
                        </a>
                    </li>
                    <li>
                        <a href="Explorar.html" class="custom-button">
                            <i class="fa-regular fa-compass"></i> Explorar
                        </a>
                    </li>
                    <li>
                        <a href="Favoritos.html" class="custom-button">
                            <i class="fa-solid fa-heart"></i> Favoritos
                        </a>
                    </li>
                </ul>
                <p>
                    Estás en Deezer Free, actualiza para eliminar anuncios.
                    <br>                    
                    <button ondblclick="window.location.href = 'Planes.html'">Suscribirse</button>
                </p>
                <div class="playlists">
                    <div class="header">
                        <h2>Playlists</h2> 
                        <button>
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                    <ul>
                        <li>
                            <button>
                                <img src="src/img/love.jpg" alt="Heart Icon">
                                <p>Canciones favoritas</p>
                            </button>
                        </li>
                        <li>
                            <button>
                                <img src="src/img/love.jpg" alt="Heart Icon">
                                <p>Loved Tracks</p>
                            </button>
                        </li>
                    </ul>
                </div>
            </nav>
            <main>
            
            <input type="text" placeholder="Artistas, canciones, podcasts...">
            <h3>Favoritos</h3>
          
            <h2>Canciones</h2>
            <div class="container-fluid">
                <div class=" row" id="contenido">
                </div>  
                    
                </div>
                <h2>Artistas <button>Ver todo</button></h2>
                <div class="container-fluid">
                <div class="row " id="contenido2">
                    
                </div>
                </div>
            <div class="song-card">
            </div>
        </main>
        <div class="music-player">
            <div class="song-controls">
                <i class="fas fa-heart"></i>
                <i class="fas fa-plus"></i>
                <i class="fas fa-random"></i>
                <i class="fas fa-step-backward backward-button"></i>
                <i class="fas fa-play play-button"></i>
                <i class="fas fa-step-forward forward-button"></i>
                <i class="fas fa-repeat"></i>
            </div>
            <div class="progress-bar">
                <span class="current-time">00:00</span>
                <div class="progress-container">
                    <div class="progress"></div>
                </div>
                <span class="total-time">00:00</span>
            </div>
            <audio id="audio-player" src="src/canciones/Joji - Die For You.mp3"></audio>
            <div class="extra-controls">
                <i class="fas fa-bars"></i>
                <i class="fas fa-volume-up"></i>
                <i class="fas fa-stream"></i>
            </div>
        </div>
        
        
        
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const audioPlayer = document.getElementById('audio-player');
                const playButton = document.querySelector('.play-button');
                const forwardButton = document.querySelector('.forward-button');
                const backwardButton = document.querySelector('.backward-button');
                const progressBar = document.querySelector('.progress');
                const currentTimeElement = document.querySelector('.current-time');
                const totalTimeElement = document.querySelector('.total-time');
        
                playButton.addEventListener('click', function() {
                    if (audioPlayer.paused) {
                        audioPlayer.play();
                        playButton.classList.remove('fa-play');
                        playButton.classList.add('fa-pause');
                    } else {
                        audioPlayer.pause();
                        playButton.classList.remove('fa-pause');
                        playButton.classList.add('fa-play');
                    }
                });
        
                forwardButton.addEventListener('click', function() {
                    audioPlayer.currentTime += 10;
                });
        
                backwardButton.addEventListener('click', function() {
                    audioPlayer.currentTime -= 10;
                });
        
                audioPlayer.addEventListener('timeupdate', function() {
                    const currentTime = audioPlayer.currentTime;
                    const duration = audioPlayer.duration*10;
                    const progressPercent = (currentTime / duration) ;
                    progressBar.style.width = progressPercent + '%';
        
                    currentTimeElement.textContent = formatTime(currentTime);
                    totalTimeElement.textContent = formatTime(duration);
                });
        
                function formatTime(seconds) {
                    const minutes = Math.floor(seconds / 60);
                    const secs = Math.floor(seconds % 60);
                    return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;
                }
        
                let input = document.querySelector('input[type="text"]');
        
                input.addEventListener('focus', function() {
                    this.style.backgroundColor = '#EBE7EE';
                }, false);
        
                input.addEventListener('blur', function() {
                    if (this.value.length === 0) {
                        this.style.backgroundColor = 'transparent';
                    }
                }, false);
        
                let menuButtons = document.querySelectorAll('.menu-button');
        
                menuButtons.forEach(button => {
                    button.addEventListener('click', function() {
                        menuButtons.forEach(btn => btn.classList.remove('selected'));
                        this.classList.add('selected');
                    });
                });
        
                let customButtons = document.querySelectorAll('.custom-button');
        
                customButtons.forEach(button => {
                    button.addEventListener('click', function() {
                        customButtons.forEach(btn => btn.classList.remove('selected'));
                        this.classList.add('selected');
                    });
                });
            });
                document.addEventListener('DOMContentLoaded', function() {
                    const playlistsButton = document.getElementById('playlists-button');
                    const playlistsContainer = document.getElementById('playlists-container');
                    const playlists = JSON.parse(localStorage.getItem('playlists')) || {};
            
                    function renderPlaylists() {
                        playlistsContainer.innerHTML = '';
                        for (const [name, details] of Object.entries(playlists)) {
                            const li = document.createElement('li');
                            li.textContent = name;
                            playlistsContainer.appendChild(li);
                        }
                    }
            
                    playlistsButton.addEventListener('click', function() {
                        if (playlistsContainer.style.display === 'none') {
                            renderPlaylists();
                            playlistsContainer.style.display = 'block';
                        } else {
                            playlistsContainer.style.display = 'none';
                        }
                    });
                });
        </script>
        <script src="js/Favoritos.js"></script>
        </body>
        </html>